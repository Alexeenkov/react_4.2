import React from 'react';
import s from './Training.module.css';

const Table = ({ tableResult, onClickDelete, onClickEdit }) => {
    const tbody = [];
    for (let i = tableResult.length - 1; i >= 0; i--) {
        const item = tableResult[i];
        tbody.push(
            <tr key={item['id']} id={item['id']}>
                <th>{formatsDate(item['date'])}</th>
                <th>{item['distance']}</th>
                <th>
                    <button className='button button__edit' type='button' onClick={() => {
                        onClickEdit(i);
                    }}>
                        <svg enable-background="new 0 0 490.305 490.305" viewBox="0 0 490.305 490.305" xmlns="http://www.w3.org/2000/svg"><path d="m472.469 81.443-63.6-63.6c-13.1-16.4-53.2-30.2-83.4 0l-290.9 289.9c-4.4 4.4-6.5 10.1-6.2 15.6l-27.1 141.8c-4.2 16.2 11.9 26.6 22.9 25l147-29.2c4.2 0 7.3-2.1 10.4-5.2l290.9-289.8c23-23 23-61.5 0-84.5zm-117.8-35.4c6.3-7.3 18.8-7.3 26.1 0l17.3 17-289.7 289.7-30.1-30.4zm-292.9 318 64.4 64.4-80.1 15.8zm382.6-228.4-276.8 276.8-30.1-30.4 290-290 16.8 16.5c9.2 9.8 4.9 22.2.1 27.1z"/></svg>
                    </button>
                    <button className='button button__delete' type='button' onClick={() => {
                        onClickDelete(i);
                    }}>
                        <svg viewBox="8 8 34 34" xmlns="http://www.w3.org/2000/svg"><path d="m24 7.25c3.1017853 0 5.629937 2.45601719 5.7458479 5.5294443l.0041521.2205557h7.25c.6903559 0 1.25.5596441 1.25 1.25 0 .6472087-.4918747 1.1795339-1.1221948 1.2435464l-.1278052.0064536h-1.091l-1.7031692 22.5698451c-.1673082 2.2168333-2.0148097 3.9301549-4.2379475 3.9301549h-11.9357666c-2.2231378 0-4.0706393-1.7133216-4.2379475-3.9301549l-1.7041692-22.5698451h-1.09c-.6472087 0-1.1795339-.4918747-1.24354639-1.1221948l-.00645361-.1278052c0-.6472087.4918747-1.1795339 1.1221948-1.2435464l.1278052-.0064536h7.25c0-3.17563731 2.5743627-5.75 5.75-5.75zm9.4021054 8.25h-18.8042108l1.6891849 22.3817009c.0688916.9128137.8296275 1.6182991 1.7450372 1.6182991h11.9357666c.9154097 0 1.6761456-.7054854 1.7450372-1.6182991zm-6.1521054 5.25c.6472087 0 1.1795339.4918747 1.2435464 1.1221948l.0064536.1278052v11c0 .6903559-.5596441 1.25-1.25 1.25-.6472087 0-1.1795339-.4918747-1.2435464-1.1221948l-.0064536-.1278052v-11c0-.6903559.5596441-1.25 1.25-1.25zm-6.5 0c.6472087 0 1.1795339.4918747 1.2435464 1.1221948l.0064536.1278052v11c0 .6903559-.5596441 1.25-1.25 1.25-.6472087 0-1.1795339-.4918747-1.2435464-1.1221948l-.0064536-.1278052v-11c0-.6903559.5596441-1.25 1.25-1.25zm3.25-11c-1.7330315 0-3.1492459 1.3564548-3.2448552 3.0655761l-.0051448.1844239h6.5c0-1.7949254-1.4550746-3.25-3.25-3.25z" /></svg>
                    </button>
                </th>
            </tr>
        );
    }

    function formatsDate(date) {
        const arrDates = date.split('-');
        return `${arrDates[2]}.${arrDates[1]}.${arrDates[0]}`;
    }

    return (
        <table>
            <thead>
                <tr>
                    <th>Дата (ДД.ММ.ГГ)</th>
                    <th>Пройдено км</th>
                    <th>Действия</th>
                </tr>
            </thead>
            <tbody>
                {tbody}
            </tbody>
        </table>
    );
}

export default Table;